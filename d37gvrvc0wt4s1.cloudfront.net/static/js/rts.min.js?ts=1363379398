Rollbar.RTS=BaseClass.extend({init:function(c,a,b){this.rtsUri=c;this.rtsChannel=""+a;this.$rtsElem=b;this._connect();this._registerHandlers()},_connect:function(){if(this.socket){this.socket.disconnect()}this.socket=io.connect(this.rtsUri)},_registerHandlers:function(){this.log("registering rts handlers");if(this.socket){this.socket.on("connect",this.proxy(this.onConnect));this.socket.on("reconnect",this.proxy(this.onReconnect));this.socket.on("reconnecting",this.proxy(this.onReconnecting));this.socket.on("error",this.proxy(this.onError));this.socket.on("server_event",this.proxy(this.onServerEvent));this.socket.on("client_event",this.proxy(this.onClientEvent))}},_subscribe:function(){this.log("subscribing to rts channel: "+this.rtsChannel);this.socket.emit("subscribe",this.rtsChannel)},onConnect:function(){this.log("connected to rts server");this._subscribe()},onReconnect:function(){this.log("reconnected to the rts server")},onReconnecting:function(){this.log("reconnecting to the rts server")},onError:function(a){this.log("an unknown error occurred: "+a)},onServerEvent:function(a){this.log("server event:");this.log(a);this.$rtsElem.trigger("server_event",a)},onClientEvent:function(a){this.log("client event, (ignored):");this.log(a);this.$rtsElem.trigger("client_event",a)},bindToServerEvents:function(a,b){return this.bindToEventType("server_event",a,b)},bindToClientEvents:function(a,b){return this.bindToEventType("client_event",a,b)},bindToEventType:function(b,a,d){var c=function(e,f){if(f.action==a){return d(f)}};this.$rtsElem.bind(b,c)}});Rollbar.RTSHandler=BaseClass.extend({init:function(a){this.RTS=a;if(this.RTS){this.registerRTSHandlers()}},registerRTSHandlers:function(){this.RTS.bindToServerEvents("new_item",this.proxy(this.onNewItem));this.RTS.bindToServerEvents("repeat_item",this.proxy(this.onRepeatItem));this.RTS.bindToServerEvents("item_status_change",this.proxy(this.onItemStatusChange));this.RTS.bindToServerEvents("item_level_change",this.proxy(this.onItemLevelChange))},onNewItem:function(a){},onRepeatItem:function(a){},onItemStatusChange:function(a){},onItemLevelChange:function(a){}});